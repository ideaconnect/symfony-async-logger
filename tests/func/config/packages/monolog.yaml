monolog:
    channels:
        - deprecation # Deprecations are logged in the dedicated "deprecation" channel when it exists
        - async-stream

when@dev:
    monolog:
        handlers:
            async-stream:
                type: 'service'
                id: 'monolog.handler.async-stream'
                channel: 'async-stream'
                level: debug
            console:
                type: console
                process_psr_3_messages: false
                channels: ["!event", "!doctrine", "!console"]
            file_log:
                type: stream
                # log to var/log/(environment).log
                path: "%kernel.logs_dir%/async-test.log"
                # log *all* messages (debug is lowest level)
                level: debug
